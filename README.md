# test

## Задача

Необходимо сделать внутренний сервис по сокращению ссылок аналогично bitly и прочим таким.

## Технологии

Простой API на Django. 

Хранение данных в базе данных SQLite.

Общение с базой данных через Django ORM, без прямых запросов SQL.

Опционально можно использовать DRF поверх Django (вопрос со звёздочкой).

## Принцип работы

### POST-запрос

На адрес **{host}/link** поступает POST-запрос вида:

```json
{
"link" : "www.yandex.ru"
}
```

Сервис принимает этот адрес, сохраняет его в базу данных, присваивает ему короткую ссылку и возращает ответ вида:

```json
{
"status": "ok",
"result" : "fHceY18VdSlg"
}
```

### GET-запрос

Когда на этот же адрес приходит запрос вида **{host}/link/fHceY18VdSlg,** необходимо вернуть ответ вида:

```json
{
"status": "ok",
"result" : "www.yandex.ru"
}
```

Сссылка одноразовая, поэтому в базе данных нужно отразить переходили по ней хоть раз или нет.

### Возможные ошибки

Если ссылки не сущетсвует, при GET-запросе необходимо вернуть ответ вида

```json
{
"status": "error",
"detail": "link not found"
}
```

Если ссылка сущетсвует, но уже была активирована, необходимо вернуть ответ вида

```json
{
"status": "error",
"detail": "link not active"
}
```
